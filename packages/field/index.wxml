<wxs src="../wxs/utils.wxs" module="utils" />
<wxs src="./index.wxs" module="computed" />
<view>
  <van-cell size="{{ size }}" icon="{{ leftIcon }}" center="{{ center }}" border="{{ border }}" moreline="{{type === 'textarea'}}" is-link="{{ isLink }}" required="{{ required }}" clickable="{{ clickable }}" title-width="{{ type === 'textarea' ? '100%':titleWidth }}" custom-style="{{ customStyle }}" arrow-direction="{{ arrowDirection }}" is-search="{{ type === 'search' }}" class="{{ type === 'search' ? utils.bem('search-field') : ''}}" custom-class="van-field">
    <slot name="left-icon" slot="icon" />
    <view wx:if="{{ label }}" class="label-class {{ utils.bem('field__label', { disabled, moreline__label: type === 'textarea' }) }}" slot="title">
      {{ label }}
      <view wx:if="{{ action }}" class=" {{ utils.bem('field__action')}}" bind:tap="onClickAction">
        {{action}}
      </view>
    </view>
    <slot wx:else name="label" slot="title" />
    <view class="{{ utils.bem('field__body', [type]) }}">
      <view wx:if="{{ type === 'textarea' }}" class="{{ utils.bem('field__textarea_wrapper') }}" style="line-height: 24px;">
        <!-- <text hidden='{{isHidePlaceholder}}' style="{{placeholderStyle}}" class="{{ utils.bem('field__placeholder_textarea', { error, disabled }) }}">
          {{ placeholder }}
        </text> -->
        <textarea class="input-class {{ utils.bem('field__input', [inputAlign, type, { disabled, error }]) }}" fixed="{{ fixed }}" focus="{{ focus }}" cursor="{{ cursor }}" value="{{ innerValue }}" auto-focus="{{ autoFocus }}" disabled="{{ disabled || readonly }}" maxlength="{{ maxlength }}" auto-height="{{ !!autosize }}" style="{{ computed.inputStyle(autosize) }}" cursor-spacing="{{ cursorSpacing }}" adjust-position="{{ adjustPosition }}" show-confirm-bar="{{ showConfirmBar }}" hold-keyboard="{{ holdKeyboard }}" selection-end="{{ selectionEnd }}" selection-start="{{ selectionStart }}" disable-default-padding="{{ disableDefaultPadding }}" bindinput="onInput" bindblur="onBlur" bindfocus="onFocus" bindconfirm="onConfirm" bindlinechange="onLineChange" bindkeyboardheightchange="onKeyboardHeightChange" placeholder="{{ placeholder }}" placeholder-style="{{ placeholderStyle }}" placeholder-class="{{ utils.bem('field__placeholder', { error, disabled }) }}"></textarea>
      </view>
      <view wx:else class="{{ utils.bem('field__input_wrapper') }}">
        <input class="input-class {{ utils.bem('field__input', [inputAlign, { disabled, error }]) }}" type="{{ type }}" focus="{{ focus }}" cursor="{{ cursor }}" value="{{ innerValue }}" auto-focus="{{ autoFocus }}" disabled="{{ disabled || readonly }}" maxlength="{{ maxlength }}" placeholder="{{ placeholder }}" placeholder-style="{{ placeholderStyle }}" placeholder-class="{{ utils.bem('field__placeholder', { error }) }}" confirm-type="{{ confirmType }}" confirm-hold="{{ confirmHold }}" hold-keyboard="{{ holdKeyboard }}" cursor-spacing="{{ cursorSpacing }}" adjust-position="{{ adjustPosition }}" selection-end="{{ selectionEnd }}" selection-start="{{ selectionStart }}" password="{{ password || type === 'password' }}" bindinput="onInput" bindblur="onBlur" bindfocus="onFocus" bindconfirm="onConfirm" bindkeyboardheightchange="onKeyboardHeightChange" />
      </view>
      <van-icon wx:if="{{ showClear }}" name="clear" class="van-field__clear-root van-field__icon-root" catch:touchstart="onClear" />
      <view class="van-field__icon-container" bind:tap="onClickIcon">
        <van-icon wx:if="{{ rightIcon || icon }}" name="{{ rightIcon || icon }}" class="van-field__icon-root {{ iconClass }}" custom-class="right-icon-class" />
        <slot name="right-icon" />
        <slot name="icon" />
      </view>
      <view class="van-field__button">
        <slot name="button" />
      </view>
    </view>
    <view wx:if="{{ showWordLimit && maxlength }}" class="van-field__word-limit">
      <view class="{{ utils.bem('field__word-num', { full: value.length >= maxlength }) }}">
        {{ value.length }}/{{ maxlength }}
      </view>
    </view>
  </van-cell>
  <view wx:if="{{ errorMessage }}" class="{{ utils.bem('field__error-message', [errorMessageAlign, { disabled, error }]) }}">
    {{ errorMessage }}
  </view>
</view>